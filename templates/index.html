{% extends 'base.html' %}

{% block content %}
<div class="min-h-[calc(100vh-4rem)] flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200">

  <div class="w-full max-w-4xl space-y-12">

    <!-- Hero Section -->
    <div class="text-center space-y-6 animate-fade-in-down">
      <div class="inline-flex items-center px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/30 border border-blue-100 dark:border-blue-800 transition-colors">
        <span class="w-2 h-2 rounded-full bg-blue-500 mr-2 animate-pulse"></span>
        <span class="text-sm font-medium text-blue-700 dark:text-blue-300">5091 mots disponibles</span>
      </div>

      <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight text-gray-900 dark:text-white">
        Traducteur <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400">Fran√ßais-Sonink√©</span>
      </h1>

      <p class="max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-400">
        L'outil de r√©f√©rence pour apprendre et traduire le Sonink√©. Simple, rapide et pr√©cis.
      </p>
    </div>

    <!-- Translator Card -->
    <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden transition-all duration-300 hover:shadow-2xl hover:scale-[1.01] backdrop-blur-sm">
      <div class="p-8 md:p-10">
        <form method="post" class="space-y-8">
          {% csrf_token %}
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- French Input -->
            <div class="space-y-4">
              <label for="phrase_francaise" class="flex items-center text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider">
                <i class="fas fa-flag mr-2 text-blue-600"></i>
                Fran√ßais
              </label>
              <div class="relative group">
                <textarea
                  name="phrase_francaise"
                  id="phrase_francaise"
                  rows="4"
                  class="block w-full rounded-2xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50/50 dark:bg-gray-700/30 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 resize-none transition-all duration-300 text-lg p-4 backdrop-blur-sm hover:bg-white dark:hover:bg-gray-700/50"
                  placeholder="Tapez votre texte ici... üá´üá∑"
                  autocomplete="off"
                >{{ phrase_francaise|default:'' }}</textarea>
                <div class="absolute bottom-4 right-4 text-gray-400 pointer-events-none group-focus-within:text-blue-500 transition-all duration-300 group-focus-within:scale-110">
                  <i class="fas fa-edit"></i>
                </div>
                <div class="absolute top-2 right-2 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300">
                  <span class="text-xs text-blue-500 font-medium bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-full">En cours...</span>
                </div>
              </div>

              <!-- Suggestions Dropdown -->
              <div class="relative">
                 <select
                  id="suggestions_francais"
                  class="block w-full pl-4 pr-10 py-3 rounded-xl border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm text-gray-600 dark:text-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-600"
                >
                  <option value="">Suggestions automatiques...</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400">
                  <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Translation Output -->
            <div class="space-y-4">
               <label class="flex items-center text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider">
                <i class="fas fa-language mr-2 text-green-600"></i>
                Sonink√©
              </label>
              <div class="relative h-full min-h-[160px]">
                <div class="h-full w-full rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-100 dark:border-blue-800/30 p-6 flex flex-col justify-center items-center text-center transition-all duration-300 hover:shadow-inner">
                  {% if traduction_soninke %}
                    <div class="space-y-4 animate-fade-in-up">
                      <p class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white leading-relaxed">
                        {{ traduction_soninke }}
                      </p>
                      <div class="flex space-x-3">
                        <button type="button" class="flex items-center space-x-2 px-4 py-2 rounded-xl bg-blue-100 hover:bg-blue-200 dark:bg-blue-800 dark:hover:bg-blue-700 transition-all duration-200 text-blue-700 dark:text-blue-300 hover:scale-105" onclick="navigator.clipboard.writeText('{{ traduction_soninke }}'); swal('‚úÖ Copi√© !', 'Traduction copi√©e dans le presse-papier', 'success');" title="Copier">
                          <i class="far fa-copy"></i>
                          <span class="text-sm font-medium">Copier</span>
                        </button>
                        <button type="button" class="flex items-center space-x-2 px-4 py-2 rounded-xl bg-green-100 hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-700 transition-all duration-200 text-green-700 dark:text-green-300 hover:scale-105" onclick="speakText('{{ traduction_soninke }}')" title="√âcouter">
                          <i class="fas fa-volume-up"></i>
                          <span class="text-sm font-medium">√âcouter</span>
                        </button>
                      </div>
                    </div>
                  {% else %}
                    <div class="space-y-3 animate-pulse">
                      <i class="fas fa-language text-4xl text-gray-300 dark:text-gray-600"></i>
                      <p class="text-gray-400 dark:text-gray-500 italic">
                        La traduction appara√Ætra ici... ‚ú®
                      </p>
                    </div>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="group w-full flex justify-center items-center py-4 px-6 rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 dark:from-blue-600 dark:to-indigo-600 dark:hover:from-blue-500 dark:hover:to-indigo-500 font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 hover:scale-[1.02] transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/50 relative overflow-hidden"
          >
            <div class="absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
            <span class="mr-3 relative z-10">‚ú® Traduire maintenant</span>
            <i class="fas fa-arrow-right relative z-10 group-hover:translate-x-1 transition-transform duration-300"></i>
          </button>
        </form>
      </div>
    </div>

    <!-- Features Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-8">
      <div class="group flex flex-col items-center text-center p-6 rounded-2xl bg-white dark:bg-gray-800 shadow-sm hover:shadow-lg hover:-translate-y-2 transition-all duration-300 border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-600">
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 flex items-center justify-center text-blue-600 dark:text-blue-400 mb-4 group-hover:scale-110 transition-transform duration-300">
           <i class="fas fa-database fa-lg"></i>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">üìö Base Riche</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">Plus de <span class="font-semibold text-blue-600">5000 mots</span> et expressions soigneusement v√©rifi√©s.</p>
      </div>

      <div class="group flex flex-col items-center text-center p-6 rounded-2xl bg-white dark:bg-gray-800 shadow-sm hover:shadow-lg hover:-translate-y-2 transition-all duration-300 border border-gray-100 dark:border-gray-700 hover:border-purple-200 dark:hover:border-purple-600">
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/50 dark:to-purple-800/50 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-4 group-hover:scale-110 transition-transform duration-300">
           <i class="fas fa-mobile-alt fa-lg"></i>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">üì± 100% Mobile</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">Une application <span class="font-semibold text-purple-600">PWA</span> rapide et fluide sur tous vos appareils.</p>
      </div>

      <div class="group flex flex-col items-center text-center p-6 rounded-2xl bg-white dark:bg-gray-800 shadow-sm hover:shadow-lg hover:-translate-y-2 transition-all duration-300 border border-gray-100 dark:border-gray-700 hover:border-green-200 dark:hover:border-green-600">
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 flex items-center justify-center text-green-600 dark:text-green-400 mb-4 group-hover:scale-110 transition-transform duration-300">
           <i class="fas fa-users fa-lg"></i>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors">ü§ù Communaut√©</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">Contribuez et aidez-nous √† <span class="font-semibold text-green-600">pr√©server</span> la langue sonink√©.</p>
      </div>
    </div>

  </div>
</div>

<style>
  .animate-fade-in-down {
    animation: fadeInDown 0.8s ease-out;
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }

  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Effet de typing pour le placeholder */
  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }

  /* Am√©lioration du focus */
  textarea:focus {
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
  }

  /* Animation de chargement */
  .loading-dots::after {
    content: '';
    animation: dots 1.5s infinite;
  }

  @keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
  }
</style>

<script>
  // Fonction pour la synth√®se vocale
  function speakText(text) {
    if ('speechSynthesis' in window) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'fr-FR';
      utterance.rate = 0.8;
      speechSynthesis.speak(utterance);
    } else {
      swal('D√©sol√©', 'La synth√®se vocale n\'est pas support√©e sur votre navigateur', 'info');
    }
  }

  // Animation au scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-in-up');
      }
    });
  }, observerOptions);

  // Observer les √©l√©ments au chargement
  document.addEventListener('DOMContentLoaded', () => {
    const elementsToAnimate = document.querySelectorAll('.group');
    elementsToAnimate.forEach(el => observer.observe(el));
  });
</script>
{% endblock %}